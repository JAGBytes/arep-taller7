<?xml version="1.0" encoding="UTF-8"?>
<svg width="800" height="600" xmlns="http://www.w3.org/2000/svg">
  <!-- Estilos -->
  <style>
    .entity {
      fill: #f5f5f5;
      stroke: #333;
      stroke-width: 2;
    }
    .title {
      font-family: Arial, sans-serif;
      font-size: 16px;
      font-weight: bold;
      text-anchor: middle;
    }
    .attribute {
      font-family: Arial, sans-serif;
      font-size: 12px;
      text-anchor: start;
    }
    .pk {
      font-weight: bold;
    }
    .relation {
      stroke: #333;
      stroke-width: 2;
      fill: none;
    }
    .arrow {
      fill: #333;
    }
    .cardinality {
      font-family: Arial, sans-serif;
      font-size: 12px;
      text-anchor: middle;
    }
  </style>

  <!-- Título del diagrama -->
  <text x="400" y="30" font-family="Arial, sans-serif" font-size="20" font-weight="bold" text-anchor="middle">Diagrama de Entidades - Sistema de Posts</text>

  <!-- Entidad User -->
  <rect x="100" y="100" width="200" height="160" rx="5" ry="5" class="entity" />
  <text x="200" y="125" class="title">User</text>
  <line x1="100" y1="135" x2="300" y2="135" stroke="#333" stroke-width="1" />
  <text x="110" y="155" class="attribute pk">id: Long (PK)</text>
  <text x="110" y="175" class="attribute">username: String</text>
  <text x="110" y="195" class="attribute">email: String</text>
  <text x="110" y="215" class="attribute">fullName: String</text>
  <text x="110" y="235" class="attribute">createdAt: Date</text>

  <!-- Entidad Post -->
  <rect x="500" y="100" width="200" height="140" rx="5" ry="5" class="entity" />
  <text x="600" y="125" class="title">Post</text>
  <line x1="500" y1="135" x2="700" y2="135" stroke="#333" stroke-width="1" />
  <text x="510" y="155" class="attribute pk">id: Long (PK)</text>
  <text x="510" y="175" class="attribute">content: String (140 chars)</text>
  <text x="510" y="195" class="attribute">user_id: Long (FK)</text>
  <text x="510" y="215" class="attribute">createdAt: Date</text>

  <!-- Entidad Stream -->
  <rect x="300" y="350" width="200" height="140" rx="5" ry="5" class="entity" />
  <text x="400" y="375" class="title">Stream</text>
  <line x1="300" y1="385" x2="500" y2="385" stroke="#333" stroke-width="1" />
  <text x="310" y="405" class="attribute pk">id: Long (PK)</text>
  <text x="310" y="425" class="attribute">name: String</text>
  <text x="310" y="445" class="attribute">posts: List&lt;Post&gt;</text>
  <text x="310" y="465" class="attribute">createdAt: Date</text>

  <!-- Relación User -> Post (1:N) -->
  <path d="M 300 170 L 500 170" class="relation" />
  <polygon points="490,165 500,170 490,175" class="arrow" />
  <text x="320" y="160" class="cardinality">1</text>
  <text x="480" y="160" class="cardinality">N</text>

  <!-- Relación Stream -> Post (1:N) -->
  <path d="M 400 350 L 400 300 L 600 300 L 600 240" class="relation" />
  <polygon points="595,310 600,300 605,310" class="arrow" transform="rotate(180, 600, 300)" />
  <text x="390" y="330" class="cardinality">1</text>
  <text x="610" y="290" class="cardinality">N</text>

  <!-- Leyenda -->
  <rect x="600" y="350" width="150" height="100" rx="5" ry="5" fill="#f5f5f5" stroke="#333" />
  <text x="675" y="370" font-family="Arial, sans-serif" font-size="14" font-weight="bold" text-anchor="middle">Leyenda</text>
  <line x1="610" y1="380" x2="740" y2="380" stroke="#333" stroke-width="1" />
  <text x="620" y="400" font-family="Arial, sans-serif" font-size="12">PK: Clave Primaria</text>
  <text x="620" y="420" font-family="Arial, sans-serif" font-size="12">FK: Clave Foránea</text>
  <text x="620" y="440" font-family="Arial, sans-serif" font-size="12">1:N: Relación Uno a Muchos</text>
</svg>